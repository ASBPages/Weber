<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Infinity Gateway</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
        body { margin:0; height:100vh; display:flex; justify-content:center; align-items:center; font-family:'Segoe UI',sans-serif; background:#0a0a0a; color:#fff; overflow:hidden; }
        .glass { background:rgba(255,255,255,0.05); backdrop-filter:blur(20px); -webkit-backdrop-filter:blur(20px); padding:50px; border-radius:30px; border:1px solid rgba(255,255,255,0.1); width:90%; max-width:500px; text-align:center; box-shadow:0 20px 50px rgba(0,0,0,0.5); }
        h1 { font-weight:200; letter-spacing:8px; margin-bottom:40px; text-transform:uppercase; background:linear-gradient(to right, #fff, #666); -webkit-background-clip:text; -webkit-text-fill-color:transparent; }
        .box { position:relative; width:100%; }
        input { width:100%; padding:18px 25px; box-sizing:border-box; border-radius:50px; border:1px solid rgba(255,255,255,0.2); background:rgba(0,0,0,0.3); color:#fff; font-size:16px; outline:none; transition:0.3s; }
        input:focus { border-color:#00d2ff; box-shadow:0 0 20px rgba(0,210,255,0.4); }
        .btn { position:absolute; right:8px; top:8px; bottom:8px; width:45px; border-radius:50%; border:none; background:linear-gradient(45deg,#00d2ff,#3a7bd5); color:#fff; cursor:pointer; font-size:20px; transition:0.3s; }
        .btn:hover { transform:scale(1.1); box-shadow:0 0 15px #00d2ff; }
        .status { margin-top:20px; font-size:12px; color:#555; }
    </style>
    <script src="/uv/uv.bundle.js"></script>
    <script src="/uv/uv.config.js"></script>
</head>
<body>
    <div class="glass">
        <h1>Gateway</h1>
        <form id="p-form">
            <div class="box">
                <input type="text" id="p-input" placeholder="URL or Search..." autocomplete="off">
                <button type="submit" class="btn">➜</button>
            </div>
        </form>
        <div id="status" class="status">Initializing Engine...</div>
    </div>
    <script>
        const form = document.getElementById('p-form');
        const input = document.getElementById('p-input');
        const status = document.getElementById('status');

        // Service Workerの登録
        async function init() {
            if ('serviceWorker' in navigator) {
                try {
                    await navigator.serviceWorker.register('/uv/uv.sw.js', { scope: __uv$config.prefix });
                    status.innerText = "Engine Ready. Encryption Active.";
                } catch (e) {
                    status.innerText = "Engine Error. Please refresh.";
                }
            }
        }
        init();

        form.onsubmit = async (e) => {
            e.preventDefault();
            const url = input.value.trim();
            if (!url) return;
            
            let target = url;
            if (!url.includes('.')) {
                target = 'https://www.google.com/search?q=' + encodeURIComponent(url);
            } else if (!url.startsWith('http')) {
                target = 'https://' + url;
            }

            status.innerText = "Bypassing restrictions...";
            // XOR暗号化してジャンプ
            location.href = __uv$config.prefix + __uv$config.encodeUrl(target);
        };
    </script>
</body>
</html>
